<template>
  <div class="page">
    <div class="relative icon">
      <svg
        width="98"
        height="71"
        viewBox="0 0 98 71"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <svg
          width="11"
          height="21"
          x="15"
          y="30"
          viewBox="0 0 11 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.249214 2.788C0.569881 2.51933 0.916548 2.268 1.28921 2.034C1.67055 1.8 2.07788 1.59633 2.51121 1.423C2.94455 1.241 3.40821 1.10233 3.90221 1.007C4.40488 0.902999 4.94655 0.850999 5.52721 0.850999C6.34188 0.850999 7.07422 0.959333 7.72421 1.176C8.38288 1.39267 8.94188 1.70467 9.40122 2.112C9.86055 2.51067 10.2115 2.996 10.4542 3.568C10.7055 4.13133 10.8312 4.75967 10.8312 5.453C10.8312 6.11167 10.7402 6.68367 10.5582 7.169C10.3762 7.64567 10.1465 8.06167 9.86922 8.417C9.59188 8.77233 9.28421 9.08 8.94621 9.34C8.61688 9.6 8.30055 9.84267 7.99721 10.068C7.70255 10.2847 7.44255 10.5013 7.21721 10.718C7.00055 10.9347 6.86188 11.1773 6.80121 11.446L6.43721 13.266H3.68121L3.39521 11.173C3.32588 10.7483 3.36921 10.38 3.52521 10.068C3.68121 9.74733 3.89355 9.46133 4.16221 9.21C4.43955 8.95 4.74721 8.70733 5.08521 8.482C5.42321 8.248 5.73955 8.001 6.03421 7.741C6.32888 7.47233 6.57588 7.17767 6.77521 6.857C6.98321 6.52767 7.08721 6.13767 7.08721 5.687C7.08721 5.167 6.91388 4.75533 6.56722 4.452C6.22921 4.14 5.76121 3.984 5.16321 3.984C4.70388 3.984 4.31821 4.03167 4.00621 4.127C3.70288 4.22233 3.43855 4.33067 3.21321 4.452C2.99655 4.56467 2.80588 4.66867 2.64121 4.764C2.47655 4.85933 2.31188 4.907 2.14721 4.907C1.77455 4.907 1.49721 4.74667 1.31521 4.426L0.249214 2.788ZM2.64121 17.959C2.64121 17.647 2.69755 17.3567 2.81021 17.088C2.93155 16.8193 3.09188 16.5853 3.29121 16.386C3.49921 16.1867 3.74188 16.0307 4.01921 15.918C4.29655 15.7967 4.59988 15.736 4.92921 15.736C5.24988 15.736 5.54888 15.7967 5.82621 15.918C6.10355 16.0307 6.34621 16.1867 6.55421 16.386C6.76221 16.5853 6.92255 16.8193 7.03521 17.088C7.15655 17.3567 7.21721 17.647 7.21721 17.959C7.21721 18.271 7.15655 18.5657 7.03521 18.843C6.92255 19.1117 6.76221 19.3457 6.55421 19.545C6.34621 19.7443 6.10355 19.9003 5.82621 20.013C5.54888 20.1257 5.24988 20.182 4.92921 20.182C4.59988 20.182 4.29655 20.1257 4.01921 20.013C3.74188 19.9003 3.49921 19.7443 3.29121 19.545C3.09188 19.3457 2.93155 19.1117 2.81021 18.843C2.69755 18.5657 2.64121 18.271 2.64121 17.959Z"
            fill="#E8D472"
          />
        </svg>

        <path
          d="M90.5 0H42.69C38.92 0 35.85 3.07 35.85 6.84V20.87H6.23C2.8 20.87 0 23.94 0 27.71V54.9C0 58.67 2.79 61.74 6.23 61.74H45.33C45.87 61.74 46.4 62 46.81 62.47L52.71 69.23C53.25 69.84 53.99 70.18 54.76 70.18C55.08 70.18 55.39 70.12 55.7 70.01C56.81 69.59 57.53 68.53 57.53 67.3V45.12H53.53V64.1L49.82 59.85C48.65 58.51 47.01 57.75 45.32 57.75H6.23C5.02 57.75 4 56.45 4 54.91V27.72C4 26.18 5.02 24.88 6.23 24.88H35.85V45.7C35.85 46.81 36.47 47.8 37.46 48.29C37.87 48.49 38.3 48.59 38.73 48.59C39.35 48.59 39.97 48.38 40.49 47.98L51.01 39.84C51.51 39.46 52.12 39.25 52.75 39.25H90.5C94.27 39.25 97.34 36.18 97.34 32.41V6.84C97.34 3.07 94.27 0 90.5 0ZM93.34 32.41C93.34 33.98 92.06 35.25 90.5 35.25H52.75C51.24 35.25 49.75 35.76 48.56 36.68L39.84 43.42V6.84C39.84 5.27 41.12 4 42.68 4H90.49C92.06 4 93.33 5.28 93.33 6.84V32.4L93.34 32.41Z"
          fill="#E8D472"
        />
      </svg>
      <span class="absolute number" v-if="question.number"
        >{{ question.number }} .</span
      >
    </div>
    <h2 class="question" v-if="question">
      {{ $t(questionKey) }}
    </h2>
    <div class="answers flex flex-wrap justify-between">
      <Answer
        v-for="option in answers"
        :key="option.id"
        :option="option"
        :revealed="reveal"
      />
    </div>
  </div>
</template>

<script>
import Answer from "../components/answer.vue";
import { answerSort } from "@/app/functions.js";
import { SHOW_ANSWERS_STEP } from "@/const/steps.js";
export default {
  components: { Answer },
  props: {
    question: Object,
    game: Object,
  },
  computed: {
    showScore() {
      return false;
    },
    questionKey() {
      return `${this.question.id}-text`;
    },
    reveal() {
      return this.question.step >= SHOW_ANSWERS_STEP;
    },
    answers() {
      return Object.keys(this.question.options)
        .map((id) => ({
          ...this.question.options[id],
          id,
        }))
        .sort(answerSort);
    },
  },
};
</script>

<style>
.icon {
  margin: 100px auto 15px auto;
  display: block;
  width: 98px;
}

.number {
  font-weight: bold;
  color: #e8d472;
  position: absolute;
  top: 4px;
  right: 20px;
  font-size: 26px;
  line-height: 30px;
}

.question {
  color: #e5e5e5;
  font-weight: 700;
  font-size: 40px;
  line-height: 48px;
  text-align: center;
  max-width: 700px;
  margin: 0 auto;
}

.answers {
  position: absolute;
  top: 372px;
  left: 225px;
  width: 1278px;
}
</style>
